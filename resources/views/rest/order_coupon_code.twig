{# Autogenerated - 2017-12-27 15:00:47 #}
{% extends 'PlentyPluginShowcase::templates.ExamplePage' %}

{% block Content %}

	<!-- Autogenerated - 2017-12-27 15:00:47 -->

	<h1 id="rest-order couponcode">
		REST Order CouponCode
	</h1>

	<p>Redeem coupons.</p>

			<h2 id="redeem-a-coupon-code">
		Redeem a coupon code
		</h2>

		<p>Redeems a coupon code and applies it to an order. The ID of the order must be specified. If the coupon was successfully redeemed, the coupon data will be returned. If the coupon can not be redeemed, a validation exception will be thrown.</p>

							
		<!-- prettyprinted -->
		<div class="route-container" data-type="post" data-middleware="oauth" >
			<code>/rest/orders/{orderId}/coupons/{coupon}</code>
		</div>

				<h3>Parameters</h3>

		<table class="table table-bordered table-striped table-condensed table-hover">
			<thead>
			<tr>
				<th>Field</th>
				<th>Type</th>
				<th>Description</th>
			</tr>
			</thead>
			<tbody>
							<tr>
					<td>orderId</td>
					<td><code>Int</code></td>
					<td>The ID of the order to redeem the coupon</td>
				</tr>
							<tr>
					<td>coupon</td>
					<td><code>String</code></td>
					<td>The coupon code to be redeemed</td>
				</tr>
						</tbody>
		</table>
		
		
		<h3>Success <span class="label label-success">200</span></h3>

													<table class="table table-bordered table-striped table-condensed table-hover">
					<thead>
					<tr>
						<th>Field</th>
						<th>Type</th>
						<th>Description</th>
					</tr>
					</thead>
					<tbody>
													<tr>
								<td><samp>campaignId</samp></td>
								<td><code>Int</code></td>
								<td>The ID of the campaign</td>
							</tr>
													<tr>
								<td><samp>validationType</samp></td>
								<td><code>String</code></td>
								<td>The type of the campaign. Currently the only type available is plentymarkets.</td>
							</tr>
													<tr>
								<td><samp>contactId</samp></td>
								<td><code>Int</code></td>
								<td>The ID of the contact that wants to redeem the coupon</td>
							</tr>
													<tr>
								<td><samp>couponCode</samp></td>
								<td><code>String</code></td>
								<td>The coupon code</td>
							</tr>
													<tr>
								<td><samp>currency</samp></td>
								<td><code>String</code></td>
								<td>The currency of the purchase</td>
							</tr>
													<tr>
								<td><samp>referrer</samp></td>
								<td><code>Float</code></td>
								<td>The order referrer</td>
							</tr>
													<tr>
								<td><samp>salesDiscount</samp></td>
								<td><code>Float</code></td>
								<td>The total discount from a coupon applied to an order. The discount is given as gross amount.</td>
							</tr>
													<tr>
								<td><samp>salesDiscountNet</samp></td>
								<td><code>Float</code></td>
								<td>The net discount from a coupon applied to an order. The net discount is the total discount minus the vat amount.</td>
							</tr>
													<tr>
								<td><samp>itemDiscount</samp></td>
								<td><code>Float</code></td>
								<td>The discount amount applied to items.</td>
							</tr>
													<tr>
								<td><samp>itemDiscountNet</samp></td>
								<td><code>Float</code></td>
								<td>The net discount applied to items.</td>
							</tr>
													<tr>
								<td><samp>shippingDiscount</samp></td>
								<td><code>Float</code></td>
								<td>The discount applied to shipping costs.</td>
							</tr>
													<tr>
								<td><samp>shippingDiscountNet</samp></td>
								<td><code>Float</code></td>
								<td>The net discount applied to shipping costs.</td>
							</tr>
													<tr>
								<td><samp>usedVatFields</samp></td>
								<td><code>Array</code></td>
								<td>The vat fields used for the validation</td>
							</tr>
													<tr>
								<td><samp>restCouponAmount</samp></td>
								<td><code>Float</code></td>
								<td>The remaining coupon amount</td>
							</tr>
													<tr>
								<td><samp>checkedItems</samp></td>
								<td><code>Array</code></td>
								<td>The list of variations that passed the validation</td>
							</tr>
													<tr>
								<td><samp>validateParams</samp></td>
								<td><code>Array</code></td>
								<td>Validation parameters</td>
							</tr>
											</tbody>
				</table>
					
		
		<h3>Errors <span class="label label-danger">4xx</span></h3>

					<table class="table table-bordered table-striped table-condensed table-hover">
				<thead>
				<tr>
					<th>Code</th>
					<th>Exception</th>
					<th>Description</th>
				</tr>
				</thead>
				<tbody>
                                        <tr>
						<td>401</td>
						<td><code>League\OAuth2\Server\Exception\AccessDeniedException</code></td>
						<td>The resource owner or authorization server denied the request.</td>
					</tr>
					<tr>
						<td>401</td>
						<td><code>League\OAuth2\Server\Exception\InvalidRequestException</code></td>
						<td>The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed. Check the "access token" parameter.</td>
					</tr>
                                        				</tbody>
			</table>
		
	

{% endblock %}
